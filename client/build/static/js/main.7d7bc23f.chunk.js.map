{"version":3,"sources":["components/Auth/Input.js","components/Auth/styles.js","context/auth/reducer.js","api/index.js","context/auth/createActions.js","context/auth/index.js","components/Auth/Auth.js","components/Home/Home.js","components/Navbar/styles.js","components/Navbar/Navbar.js","components/Snackbar/styles.js","components/Snackbar/Snackbar.js","context/chat/reducer.js","context/chat/createActions.js","context/chat/index.js","api/socketInit.js","components/Chat/Message/styles.js","components/Chat/Message/Message.js","images/chat-background.jpg","components/Chat/styles.js","components/Chat/Chat.js","App.js","index.js"],"names":["Input","name","label","handleChange","autoFocus","type","Grid","item","xs","TextField","onChange","variant","required","fullWidth","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","padding","root","margin","form","submit","authReducer","state","action","localStorage","setItem","JSON","stringify","payload","errorMessage","user","result","parse","clear","_id","email","axios","interceptors","request","use","req","getItem","headers","Authorization","token","userId","signIn","formData","post","signUp","createActions","dispatch","signup","history","a","api","data","push","response","message","signin","logout","initialState","AuthContext","createContext","AuthProvider","children","useReducer","auth","actions","useEffect","profile","Provider","value","initialData","password","confirmPassword","Auth","useState","isSignup","setIsSignup","setFormData","classes","useStyles","useHistory","useContext","e","target","Container","component","maxWidth","Paper","elevation","className","Typography","style","color","onSubmit","preventDefault","container","Button","justify","onClick","prev","Home","rooms","setRooms","selectedRoom","setSelectedRoom","newRoom","setNewRoom","getRoomNames","get","handleSubmit","room","textAlign","height","align","FormControl","width","Select","labelId","id","map","MenuItem","onKeyPress","key","size","navLink","textDecoration","navLogo","flexGrow","Navbar","AppBar","position","Toolbar","Link","to","marginRight","CustomSnackbar","setSnackbarAlert","snackbarAlert","open","text","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","event","reason","Alert","severity","chatReducer","updatedRoom","joinChat","roomName","socket","emit","error","console","log","updateRoom","on","leaveChat","disconnect","off","sendMessage","users","messages","body","createdAt","ChatContext","ChatProvider","chatRoom","getProfile","property","currentUserMessage","borderRadius","backgroundColor","opacity","alignSelf","overflowWrap","otherUserMessage","messageHeader","letterSpacing","messageBody","fontWeight","paddingRight","messageTime","bottom","right","palette","secondary","iframeContainer","overflow","paddingTop","iframe","top","left","Message","currentUser","current","youtubeLink","match","src","title","frameBorder","allow","allowFullScreen","href","rel","moment","format","border","marginBottom","messageBox","overflowY","background","backgroundImage","backgroundBlendMode","backgroundSize","boxShadow","usersBox","orange","getContrastText","deepOrange","progress","Chat","params","setMessage","setSocket","scrollRef","useRef","scrollToEnd","behavior","scrollIntoView","alignToTop","io","allowCredentials","extraHeaders","userProfile","initSocket","setTimeout","CircularProgress","gutterBottom","List","u","ListItem","button","ListItemIcon","Avatar","ListItemText","primary","i","ref","input","placeholder","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7d7bc23f.chunk.js","sourcesContent":["import React from \"react\";\nimport { TextField, Grid } from \"@material-ui/core\";\n\nfunction Input({ name, label, handleChange, autoFocus, type }) {\n  return (\n    <Grid item xs={12}>\n      <TextField\n        name={name}\n        onChange={handleChange}\n        variant=\"outlined\"\n        required\n        fullWidth\n        label={label}\n        autoFocus={autoFocus}\n        type={type}\n      />\n    </Grid>\n  );\n}\n\nexport default Input;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport default makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: theme.spacing(2),\n  },\n  root: {\n    \"& .MuiTextField-root\": {\n      margin: theme.spacing(1),\n    },\n  },\n  form: {\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n","const authReducer = (state, action) => {\n  switch (action.type) {\n    case \"AUTH\":\n      localStorage.setItem(\"profile\", JSON.stringify({ ...action.payload }));\n      return { errorMessage: \"\", user: action.payload.result };\n    case \"SIGNED\":\n      const { result } = JSON.parse(action.payload);\n      return { errorMessage: \"\", user: result };\n    case \"LOGOUT\":\n      localStorage.clear();\n      return { errorMessage: \"\", user: { _id: \"\", name: \"\", email: \"\" } };\n    case \"ERROR\":\n      return { ...state, errorMessage: action.payload };\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;\n","import axios from \"axios\";\n\n// For dev\n// axios.defaults.baseURL = \"http://localhost:5000\";\n\n// Auth header\naxios.interceptors.request.use((req) => {\n  if (localStorage.getItem(\"profile\")) {\n    req.headers.Authorization = `Bearer ${\n      JSON.parse(localStorage.getItem(\"profile\")).token\n    }`;\n    req.headers.userId = JSON.parse(localStorage.getItem(\"profile\")).result._id;\n  }\n\n  return req;\n});\n\n// Auth\nexport const signIn = (formData) => axios.post(\"/user/signin\", formData);\nexport const signUp = (formData) => axios.post(\"/user/signup\", formData);\n\n// Chat\nexport const fetchChatRoom = (roomName) => axios.get(`/chatRooms/${roomName}`);\nexport const fetchRoomNames = () => axios.get(\"/chatRooms\");\n","import * as api from \"../../api\";\n\nconst createActions = (dispatch) => {\n  return {\n    signup: async (formData, history) => {\n      try {\n        const { data } = await api.signUp(formData);\n        dispatch({ type: \"AUTH\", payload: data });\n\n        history.push(\"/\");\n      } catch (error) {\n        dispatch({ type: \"ERROR\", payload: error.response.data.message });\n      }\n    },\n    signin: async (formData, history) => {\n      try {\n        const { data } = await api.signIn(formData);\n        dispatch({ type: \"AUTH\", payload: data });\n\n        history.push(\"/\");\n      } catch (error) {\n        dispatch({ type: \"ERROR\", payload: error.response.data.message });\n      }\n    },\n    logout: (history) => {\n      dispatch({ type: \"LOGOUT\" });\n\n      history.push(\"/signin\");\n    },\n  };\n};\n\nexport default createActions;\n","import React, { useReducer, createContext, useEffect } from \"react\";\nimport authReducer from \"./reducer\";\nimport createActions from \"./createActions\";\n\nconst initialState = {\n  errorMessage: \"\",\n  user: { _id: \"\", email: \"\", name: \"\" },\n};\n\nexport const AuthContext = createContext(initialState);\n\nexport const AuthProvider = ({ children }) => {\n  const [auth, dispatch] = useReducer(authReducer, initialState);\n\n  const actions = createActions(dispatch);\n\n  useEffect(() => {\n    if (!auth.user.name) {\n      const profile = localStorage.getItem(\"profile\");\n\n      profile && dispatch({ type: \"SIGNED\", payload: profile });\n    }\n  }, [auth]);\n\n  return (\n    <AuthContext.Provider value={{ auth, actions }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import React, { useState, useContext } from \"react\";\nimport { Button, Paper, Grid, Typography, Container } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport Input from \"./Input\";\nimport useStyles from \"./styles\";\nimport { AuthContext } from \"../../context/auth\";\n\nconst initialData = {\n  name: \"\",\n  email: \"\",\n  password: \"\",\n  confirmPassword: \"\",\n};\n\nfunction Auth() {\n  const [isSignup, setIsSignup] = useState(false);\n  const [formData, setFormData] = useState(initialData);\n  const classes = useStyles();\n  const history = useHistory();\n\n  const {\n    actions: { signin, signup },\n    auth: { errorMessage },\n  } = useContext(AuthContext);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    isSignup ? signup(formData, history) : signin(formData, history);\n  };\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const switchMode = () => {\n    setIsSignup((prev) => !prev);\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <Paper elevation={3} className={classes.paper}>\n        <Typography variant=\"h5\">{isSignup ? \"Sign Up\" : \"Sign In\"}</Typography>\n        <Typography variant=\"h6\" style={{ color: \"#ed4337\" }}>\n          {errorMessage}\n        </Typography>\n        <form onSubmit={handleSubmit} className={classes.form}>\n          <Grid container spacing={2}>\n            {isSignup && (\n              <>\n                <Input\n                  name=\"name\"\n                  label=\"Name\"\n                  handleChange={handleChange}\n                  autoFocus={isSignup}\n                />\n              </>\n            )}\n            <Input\n              name=\"email\"\n              label=\"Email Address\"\n              handleChange={handleChange}\n              type=\"email\"\n              autoFocus={!isSignup}\n            />\n            <Input\n              name=\"password\"\n              label=\"Password\"\n              handleChange={handleChange}\n              type=\"password\"\n            />\n            {isSignup && (\n              <Input\n                name=\"confirmPassword\"\n                label=\"Confirm Password\"\n                handleChange={handleChange}\n                type=\"password\"\n              />\n            )}\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            {isSignup ? \"Sign Up\" : \"Sign In\"}\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Button onClick={switchMode}>\n                {isSignup\n                  ? \"Already have an account? Sign In\"\n                  : \"Don't have an account? Sign Up\"}\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      </Paper>\n    </Container>\n  );\n}\n\nexport default Auth;\n","import {\n  Button,\n  Container,\n  FormControl,\n  MenuItem,\n  Paper,\n  Select,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { fetchRoomNames } from \"../../api/\";\nimport { AuthContext } from \"../../context/auth\";\nimport { useHistory } from \"react-router-dom\";\nimport Auth from \"../Auth/Auth\";\n\nfunction Home() {\n  const [rooms, setRooms] = useState([]);\n  const [selectedRoom, setSelectedRoom] = useState(\"\");\n  const [newRoom, setNewRoom] = useState(\"\");\n  const history = useHistory();\n  const {\n    auth: { user },\n  } = useContext(AuthContext);\n\n  const getRoomNames = async () => {\n    try {\n      const {\n        data: { rooms },\n      } = await fetchRoomNames();\n      setRooms(rooms);\n      setSelectedRoom(rooms[0]);\n    } catch (error) {}\n  };\n\n  useEffect(() => {\n    if (user.name) {\n      getRoomNames();\n    }\n  }, [user]);\n\n  const handleRoomChange = (e) => {\n    setSelectedRoom(e.target.value);\n  };\n\n  const handleNewRoomChange = (e) => {\n    setNewRoom(e.target.value);\n  };\n\n  const handleSubmit = () => {\n    const room = newRoom ? newRoom : selectedRoom;\n    history.push(`/chatRooms/${room}`);\n  };\n\n  if (!user.name) {\n    return <Auth />;\n  }\n\n  return (\n    <Container\n      maxWidth=\"sm\"\n      style={{ textAlign: \"center\", height: \"50vh\", marginTop: \"100px\" }}\n    >\n      <Paper elevation={1} style={{ padding: \"50px 20px\" }}>\n        <Typography variant=\"h4\" align=\"center\">\n          Hello {user.name}\n        </Typography>\n        <Typography variant=\"h4\" align=\"center\">\n          Welcome to Chat app!\n        </Typography>\n        <div style={{ marginTop: \"100px\" }}>\n          <Typography variant=\"h6\" align=\"center\">\n            Select the room\n          </Typography>\n          <FormControl variant=\"outlined\" style={{ width: \"50%\" }}>\n            <Select\n              labelId=\"demo-simple-select-label\"\n              id=\"demo-simple-select\"\n              value={selectedRoom}\n              onChange={handleRoomChange}\n            >\n              {rooms.map((room) => (\n                <MenuItem key={room} value={room}>\n                  {room}\n                </MenuItem>\n              ))}\n            </Select>\n            <Typography\n              variant=\"h6\"\n              align=\"center\"\n              style={{ margin: \"10px 0\" }}\n            >\n              or create a new one\n            </Typography>\n            <TextField\n              value={newRoom}\n              onChange={handleNewRoomChange}\n              label=\"Room name\"\n              variant=\"outlined\"\n              onKeyPress={(e) => (e.key === \"Enter\" ? handleSubmit() : null)}\n            />\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              style={{ marginTop: \"20px\" }}\n              size=\"large\"\n              onClick={handleSubmit}\n            >\n              {newRoom ? \"Create new room\" : \"Join Room\"}\n            </Button>\n          </FormControl>\n        </div>\n      </Paper>\n    </Container>\n  );\n}\n\nexport default Home;\n","import { makeStyles } from \"@material-ui/core\";\n\nexport default makeStyles(() => ({\n  navLink: {\n    textDecoration: \"none\",\n  },\n  navLogo: {\n    textDecoration: \"none\",\n    flexGrow: 1,\n  },\n}));\n","import React, { useContext } from \"react\";\nimport { AppBar, Button, Toolbar, Typography } from \"@material-ui/core\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport useStyles from \"./styles\";\nimport { AuthContext } from \"../../context/auth\";\n\nfunction Navbar() {\n  const classes = useStyles();\n  const {\n    auth: { user },\n    actions: { logout },\n  } = useContext(AuthContext);\n  const history = useHistory();\n\n  return (\n    <AppBar position=\"static\">\n      <Toolbar>\n        <Typography\n          className={classes.navLogo}\n          variant=\"h5\"\n          color=\"inherit\"\n          component={Link}\n          to=\"/\"\n        >\n          WEB CHAT\n        </Typography>\n        {!user.name ? (\n          <Button\n            variant=\"outlined\"\n            color=\"inherit\"\n            component={Link}\n            to=\"/signin\"\n          >\n            Login\n          </Button>\n        ) : (\n          <>\n            <Typography variant=\"h5\" style={{ marginRight: \"20px\" }}>\n              {user.name}\n            </Typography>\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={() => logout(history)}\n            >\n              Logout\n            </Button>\n          </>\n        )}\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nexport default Navbar;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport default makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n","import React from \"react\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport { Alert } from \"@material-ui/lab\";\n\nimport useStyles from \"./styles\";\n\nfunction CustomSnackbar({ setSnackbarAlert, snackbarAlert }) {\n  const { open, user, text } = snackbarAlert;\n  const classes = useStyles();\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") return;\n    setSnackbarAlert({ ...snackbarAlert, open: false });\n  };\n\n  return (\n    <div className={classes.root}>\n      <Snackbar\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"right\" }}\n        open={open}\n        autoHideDuration={5000}\n        onClose={handleClose}\n      >\n        <Alert severity=\"success\" elevation={6} variant=\"filled\">\n          {`${user}: ${text}`}\n        </Alert>\n      </Snackbar>\n    </div>\n  );\n}\n\nexport default CustomSnackbar;\n","const chatReducer = (state, action) => {\n  switch (action.type) {\n    case \"FETCH_ROOM\":\n      return action.payload.result;\n    case \"UPDATE_ROOM\":\n      return action.payload.updatedRoom;\n    default:\n      return state;\n  }\n};\n\nexport default chatReducer;\n","const createActions = (dispatch) => {\n  return {\n    joinChat: (roomName, socket) => {\n      try {\n        socket.open();\n        socket.emit(\"join\", roomName);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    updateRoom: (socket) => {\n      try {\n        socket.on(\"updateRoom\", (updatedRoom) => {\n          dispatch({ type: \"UPDATE_ROOM\", payload: updatedRoom });\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    leaveChat: (socket) => {\n      try {\n        socket.disconnect();\n        socket.off();\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    sendMessage: (message, roomName, socket) => {\n      socket.emit(\"sendMessage\", { message, roomName });\n    },\n  };\n};\n\nexport default createActions;\n","import React, { useReducer, createContext } from \"react\";\nimport chatReducer from \"./reducer\";\nimport createActions from \"./createActions\";\n\nconst initialState = {\n  _id: \"\",\n  users: [{ _id: \"\", name: \"\" }],\n  name: \"\",\n  messages: [{ id: \"\", body: \"\", createdAt: \"\", user: \"\" }],\n};\n\nexport const ChatContext = createContext(initialState);\n\nexport const ChatProvider = ({ children }) => {\n  const [chatRoom, dispatch] = useReducer(chatReducer, initialState);\n\n  const actions = createActions(dispatch);\n\n  return (\n    <ChatContext.Provider value={{ chatRoom, actions }}>\n      {children}\n    </ChatContext.Provider>\n  );\n};\n","import { io } from \"socket.io-client\";\n\nconst getProfile = (property) => {\n  if (localStorage.getItem(\"profile\")) {\n    return JSON.parse(localStorage.getItem(\"profile\"))[property];\n  } else {\n    return \"\";\n  }\n};\n\n// for DEV\n// export const initializeSocket = () => {\n//   const socket = io(\"http://localhost:5000\", {\n//     allowCredentials: true,\n//     extraHeaders: {\n//       token: `Bearer ${getProfile(\"token\")}`,\n//       userProfile: JSON.stringify(getProfile(\"result\")),\n//     },\n//   });\n//   return socket;\n// };\n\n// Production\nexport const initializeSocket = () => {\n  const socket = io({\n    allowCredentials: true,\n    extraHeaders: {\n      token: `Bearer ${getProfile(\"token\")}`,\n      userProfile: JSON.stringify(getProfile(\"result\")),\n    },\n  });\n  return socket;\n};\n","import { makeStyles } from \"@material-ui/core\";\n\nexport default makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  currentUserMessage: {\n    position: \"relative\",\n    maxWidth: \"80%\",\n    margin: \"5px 10px\",\n    borderRadius: \"5px\",\n    padding: \"5px 10px\",\n    backgroundColor: \"#5c6bc0\",\n    opacity: \"0.9\",\n    alignSelf: \"flex-end\",\n    overflowWrap: \"break-word\",\n  },\n  otherUserMessage: {\n    position: \"relative\",\n    maxWidth: \"80%\",\n    margin: \"5px 10px\",\n    borderRadius: \"5px\",\n    padding: \"5px 10px\",\n    backgroundColor: \"#b0bec5\",\n    opacity: \"0.9\",\n    alignSelf: \"flex-start\",\n    overflowWrap: \"break-word\",\n  },\n  messageHeader: {\n    letterSpacing: \".1rem\",\n  },\n  messageBody: {\n    fontWeight: \"400\",\n    paddingRight: \"50px\",\n  },\n  messageTime: {\n    position: \"absolute\",\n    bottom: \"3px\",\n    right: \"3px\",\n    color: theme.palette.text.secondary,\n  },\n  iframeContainer: {\n    position: \"relative\",\n    overflow: \"hidden\",\n    width: \"100%\",\n    paddingTop: \"56.25%\",\n  },\n  iframe: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n    width: \"100%\",\n    height: \"100%\",\n  },\n}));\n","import React from \"react\";\nimport useStyles from \"./styles\";\nimport moment from \"moment\";\n\nfunction Message({ user: { name, _id }, body, createdAt, currentUser }) {\n  const classes = useStyles();\n  const current = currentUser._id === _id;\n\n  const YTRegex = /^(?:https?:\\/\\/)?(?:m\\.|www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\n  const youtubeLink = body.match(YTRegex);\n\n  return (\n    <div className={classes.root}>\n      <div\n        className={\n          current ? classes.currentUserMessage : classes.otherUserMessage\n        }\n      >\n        {youtubeLink ? (\n          <>\n            <h4 className={classes.messageHeader}>{current ? \"Me\" : name}</h4>\n            <iframe\n              width=\"100%\"\n              height=\"200\"\n              src={`https://www.youtube.com/embed/${youtubeLink[1]}`}\n              title=\"YouTube video player\"\n              frameBorder=\"0\"\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n              allowFullScreen\n            ></iframe>\n            <a href={body} target=\"_blank\" rel=\"noreferrer\">\n              {body}\n            </a>\n          </>\n        ) : (\n          <>\n            <h4 className={classes.messageHeader}>{current ? \"Me\" : name}</h4>\n            <h3 className={classes.messageBody}>{body}</h3>\n          </>\n        )}\n\n        <p className={classes.messageTime}>\n          {moment(createdAt).format(\"hh:mm\")}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default Message;\n","export default __webpack_public_path__ + \"static/media/chat-background.10f91aa9.jpg\";","import { makeStyles } from \"@material-ui/core\";\nimport { deepOrange } from \"@material-ui/core/colors\";\nimport backgroundImage from \"../../images/chat-background.jpg\";\n\nexport default makeStyles((theme) => ({\n  root: {\n    height: \"700px\",\n    maxWidth: \"800px\",\n    margin: \"0 auto\",\n    padding: \"15px\",\n    marginTop: theme.spacing(5),\n    backgroundColor: \"#9fa8da\",\n    border: \"1px solid #b5b5b5\",\n    borderRadius: \"5px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n  },\n  container: {\n    height: \"550px\",\n    marginBottom: \"30px\",\n  },\n  messageBox: {\n    height: \"inherit\",\n    overflowY: \"scroll\",\n    background: `url(${backgroundImage})`,\n    backgroundColor: \"#c5cae9\",\n    backgroundBlendMode: \"lighten\",\n    backgroundSize: \"cover\",\n    borderRadius: \"3px\",\n    boxShadow: \"2px 2px 2px rgba(0,0,0,0.7) inset\",\n  },\n  usersBox: {\n    height: \"inherit\",\n    overflowY: \"auto\",\n  },\n  orange: {\n    color: theme.palette.getContrastText(deepOrange[500]),\n    backgroundColor: deepOrange[500],\n  },\n  progress: { height: \"50px\", maxWidth: \"100px\", margin: \"100px auto\" },\n}));\n","import React, { useContext, useEffect, useState, useRef } from \"react\";\nimport {\n  Avatar,\n  Button,\n  Grid,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  TextField,\n  Typography,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport CustomSnackbar from \"../Snackbar/Snackbar\";\nimport { Link } from \"react-router-dom\";\nimport { ChatContext } from \"../../context/chat\";\nimport { AuthContext } from \"../../context/auth\";\nimport { initializeSocket } from \"../../api/socketInit\";\nimport Auth from \"../Auth/Auth\";\nimport Message from \"./Message/Message\";\nimport useStyles from \"./styles\";\n\nfunction Chat({ match: { params } }) {\n  const classes = useStyles();\n  const {\n    chatRoom,\n    actions: { updateRoom, joinChat, leaveChat, sendMessage },\n  } = useContext(ChatContext);\n  const {\n    auth: { user },\n  } = useContext(AuthContext);\n\n  const [message, setMessage] = useState(\"\");\n  const [snackbarAlert, setSnackbarAlert] = useState({\n    user: \"\",\n    text: \"\",\n    open: false,\n  });\n  const [socket, setSocket] = useState(null);\n\n  const scrollRef = useRef();\n\n  const scrollToEnd = (behavior) => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollIntoView({\n        behavior,\n        alignToTop: true,\n      });\n    }\n  };\n\n  useEffect(() => {\n    const initSocket = () => {\n      const io = initializeSocket();\n      setSocket(io);\n    };\n    initSocket();\n\n    setTimeout(() => {\n      scrollToEnd(\"auto\");\n    }, 1000);\n  }, []);\n\n  useEffect(() => {\n    if (params && user.name && socket) {\n      joinChat(params.name, socket);\n    }\n  }, [user, params, socket]);\n\n  useEffect(() => {\n    if (socket) {\n      updateRoom(socket);\n      socket.on(\"botMessage\", (message) => {\n        setSnackbarAlert({\n          user: message.user,\n          text: message.text,\n          open: true,\n        });\n      });\n\n      return () => {\n        leaveChat(socket);\n      };\n    }\n  }, [socket]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    sendMessage(message, chatRoom.name, socket);\n    setMessage(\"\");\n\n    setTimeout(() => {\n      scrollToEnd(\"smooth\");\n    }, 300);\n  };\n\n  if (!user.name) {\n    return <Auth />;\n  }\n\n  if (params?.name !== chatRoom.name) {\n    return (\n      <div className={classes.progress}>\n        <CircularProgress color=\"secondary\" size={60} />\n      </div>\n    );\n  }\n\n  return (\n    <div className={classes.root}>\n      <CustomSnackbar\n        snackbarAlert={snackbarAlert}\n        setSnackbarAlert={setSnackbarAlert}\n      />\n      <Grid container alignItems=\"center\">\n        <Grid item xs={4}>\n          <Typography variant=\"h5\" align=\"center\" gutterBottom>\n            People in chat\n          </Typography>\n        </Grid>\n        <Grid item xs={8}>\n          <Typography variant=\"h4\" align=\"center\" gutterBottom>\n            #{chatRoom.name}\n          </Typography>\n        </Grid>\n      </Grid>\n      <Grid container className={classes.container}>\n        <Grid item xs={4} className={classes.usersBox}>\n          <List>\n            {chatRoom.users.map((u) => (\n              <ListItem button key={u._id}>\n                <ListItemIcon>\n                  <Avatar className={classes.orange}>\n                    {u.name ? u.name[0] : \"\"}\n                  </Avatar>\n                </ListItemIcon>\n                <ListItemText primary={u.name} />\n              </ListItem>\n            ))}\n          </List>\n        </Grid>\n        <Grid item xs={8} className={classes.messageBox}>\n          {chatRoom.messages.map((message, i) => (\n            <Message key={i} {...message} currentUser={user} />\n          ))}\n          <div ref={scrollRef} style={{ height: \"30px\", width: \"100%\" }}></div>\n        </Grid>\n      </Grid>\n      <Grid container alignItems=\"flex-end\">\n        <Grid item xs={4} align=\"center\">\n          <Button component={Link} to=\"/\" variant=\"contained\" color=\"secondary\">\n            Leave the Room\n          </Button>\n        </Grid>\n        <Grid item xs={8}>\n          <form onSubmit={handleSubmit}>\n            <Grid\n              container\n              spacing={1}\n              alignItems=\"flex-end\"\n              className={classes.input}\n            >\n              <Grid item xs={8}>\n                <TextField\n                  fullWidth\n                  placeholder=\"type a message\"\n                  autoFocus\n                  required\n                  value={message}\n                  onChange={(e) => setMessage(e.target.value)}\n                />\n              </Grid>\n              <Grid item xs={4}>\n                <Button\n                  variant=\"contained\"\n                  type=\"submit\"\n                  color=\"primary\"\n                  fullWidth\n                >\n                  Send\n                </Button>\n              </Grid>\n            </Grid>\n          </form>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nexport default Chat;\n","import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport Auth from \"./components/Auth/Auth\";\nimport Home from \"./components/Home/Home\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Chat from \"./components/Chat/Chat\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Navbar />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/signin\" component={Auth} />\n        <Route exact path=\"/chatRooms/:name\" component={Chat} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { AuthProvider } from \"./context/auth\";\nimport { ChatProvider } from \"./context/chat\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <ChatProvider>\n        <App />\n      </ChatProvider>\n    </AuthProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}